Table admin_sessions {
  id varchar [pk]
  user_id uuid
  ip_address varchar
  user_agent text
  payload text
  last_activity integer
}

Table app_sessions {
  id varchar [pk]
  user_id uuid
  ip_address varchar
  user_agent text
  payload text
  last_activity integer
}

Table auth_client_user {
  id uuid [pk]
  user_id uuid
  client_id uuid
  role_id uuid
}

Table auth_roles {
  id uuid [pk]
  name varchar
  slug varchar
}

Table auth_users {
  name varchar
  id uuid [pk]
  email varchar
  hashed_password varchar
  is_active boolean
  is_superuser boolean
  is_verified boolean
  contact_id uuid
}

Table cache {
  key varchar [pk]
  value text
  expiration integer
}

Table cache_locks {
  key varchar [pk]
  owner varchar
  expiration integer
}

Table failed_jobs {
  id bigint [pk]
  uuid varchar
  connection text
  queue text
  payload text
  exception text
  failed_at timestamp
}

Table filament_model_has_permissions {
  permission_id bigint [pk]
  model_type varchar [pk]
  model_id uuid [pk]
}

Table filament_model_has_roles {
  role_id bigint [pk]
  model_type varchar [pk]
  model_id uuid [pk]
}

Table filament_password_reset_tokens {
  email varchar [pk]
  token varchar
  created_at timestamp
}

Table filament_permissions {
  id bigint [pk]
  name varchar
  guard_name varchar
  created_at timestamp
  updated_at timestamp
}

Table filament_role_has_permissions {
  permission_id bigint [pk]
  role_id bigint [pk]
}

Table filament_roles {
  id bigint [pk]
  name varchar
  guard_name varchar
  created_at timestamp
  updated_at timestamp
}

Table job_batches {
  id varchar [pk]
  name varchar
  total_jobs integer
  pending_jobs integer
  failed_jobs integer
  failed_job_ids text
  options text
  cancelled_at integer
  created_at integer
  finished_at integer
}

Table jobs {
  id bigint [pk]
  queue varchar
  payload text
  attempts smallint
  reserved_at integer
  available_at integer
  created_at integer
}

Table lead_ai_prompts {
  id uuid [pk]
  client_id uuid
  slug text
  prompt_text text
  is_active boolean
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table lead_appointments {
  id uuid [pk]
  lead_id uuid
  property_id uuid
  contact_id uuid
  scheduled_at timestamp
  duration_minutes smallint
  timezone varchar
  meeting_type varchar
  status varchar
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table lead_channel_categories {
  id integer [pk]
  name varchar
  icon varchar
}

Table lead_client_channels {
  id uuid [pk]
  client_id uuid
  channel_id integer
  value varchar
  internal_name varchar
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table lead_client_user {
  id uuid [pk]
  client_id uuid
  user_id uuid
  created_at timestamp
  updated_at timestamp
}

Table lead_clients {
  id uuid [pk]
  name varchar
  country_id integer
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
  slug varchar
}

Table lead_communication_channels {
  id integer [pk]
  name varchar
  icon varchar
  active boolean
  category_id integer
}

Table lead_contact_methods {
  id uuid [pk]
  user_id uuid
  channel_id integer
  value varchar
  label varchar
  is_primary boolean
  updated_at timestamp
}

Table lead_contact_preferences {
  id uuid [pk]
  slug varchar
  name varchar
  icon varchar
  color varchar
  active boolean
  created_at timestamp
  updated_at timestamp
}

Table lead_conversations {
  id uuid [pk]
  lead_id uuid
  platform varchar
  conversation_id varchar
  messages jsonb
  summary text
  sentiment varchar
  started_at timestamp
  ended_at timestamp
  last_message_at timestamp
  total_messages integer
  bot_messages integer
  lead_messages integer
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table lead_countries {
  id integer [pk]
  name varchar
  iso_code character
  updated_at timestamp
}

Table lead_currencies {
  id character [pk]
  symbol varchar
  updated_at timestamp
}

Table lead_integrations {
  id uuid [pk]
  client_id uuid
  provider varchar
  name varchar
  credentials text
  status boolean
  settings json
  created_at timestamp
  updated_at timestamp
}

Table lead_knowledge_documents {
  id bigint [pk]
  client_id uuid
  filename varchar
  storage_path varchar
  content_hash varchar
  sync_status varchar
  last_synced_at timestamp
  created_at timestamp
  error_message text
}

Table lead_leads {
  id uuid [pk]
  client_id uuid
  source_id bigint
  origin_channel_id uuid
  assigned_user_id uuid
  full_name varchar
  email varchar
  phone varchar
  declared_income numeric
  current_debts numeric
  financial_currency_id character
  status varchar
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
  score_engagement integer
  score_finance integer
  score_timeline integer
  score_match integer
  score_info integer
  score_total integer
  eng_def_id bigint
  fin_def_id bigint
  timeline_def_id bigint
  match_def_id bigint
  info_def_id bigint
  priority_def_id bigint
  source_property_ref varchar
  source_property_url text
  estimated_value numeric
  property_snapshot jsonb
  utm_source varchar
  utm_medium varchar
  utm_campaign varchar
  utm_content varchar
  utm_term varchar
  click_id varchar
  click_id_type varchar
  referrer_url text
  landing_page_url text
  user_agent text
  ip_address varchar
  contact_preference_id uuid
  status_id uuid
}

Table lead_properties {
  id uuid [pk]
  client_id uuid
  property_type_id integer
  assigned_contact_id uuid
  title varchar
  description text
  address_street varchar
  address_city varchar
  address_state varchar
  address_zip varchar
  location_lat numeric
  location_lng numeric
  bedrooms smallint
  bathrooms numeric
  area_sqm numeric
  features jsonb
  price numeric
  currency_id character
  status varchar
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
  external_ref varchar
  public_url text
}

Table lead_property_types {
  id integer [pk]
  name varchar
}

Table lead_scoring_definitions {
  id bigint [pk]
  criterion varchar
  min_score integer
  max_score integer
  label varchar
  meaning text
  icon varchar
  color varchar
  is_active boolean
}

Table lead_sources {
  id integer [pk]
  name varchar
  type varchar
  icon varchar
}

Table lead_status_history {
  id uuid [pk]
  lead_id uuid
  old_status varchar
  new_status varchar
  changed_by uuid
  notes text
  changed_at timestamp
}

Table lead_statuses {
  id uuid [pk]
  key varchar
  name varchar
  icon varchar
  color varchar
  order integer
  created_at timestamp
  updated_at timestamp
}

Table lead_users {
  id uuid [pk]
  name varchar
  email varchar
  email_verified_at timestamp
  password varchar
  remember_token varchar
  created_at timestamp
  updated_at timestamp
  job_title varchar
  available_status varchar
  can_receive_leads boolean
  theme varchar
  theme_color varchar
}

Table migrations {
  id integer [pk]
  migration varchar
  batch integer
}

Table sessions {
  id varchar [pk]
  user_id uuid
  ip_address varchar
  user_agent text
  payload text
  last_activity integer
}

Ref: lead_leads.source_id > lead_sources.id
Ref: lead_leads.assigned_user_id > lead_users.id
Ref: lead_ai_prompts.client_id > lead_clients.id
Ref: auth_client_user.user_id > auth_users.id
Ref: lead_leads.eng_def_id > lead_scoring_definitions.id
Ref: lead_leads.fin_def_id > lead_scoring_definitions.id
Ref: lead_leads.timeline_def_id > lead_scoring_definitions.id
Ref: lead_leads.match_def_id > lead_scoring_definitions.id
Ref: lead_leads.info_def_id > lead_scoring_definitions.id
Ref: lead_leads.priority_def_id > lead_scoring_definitions.id
Ref: filament_model_has_permissions.permission_id > filament_permissions.id
Ref: filament_model_has_roles.role_id > filament_roles.id
Ref: filament_role_has_permissions.permission_id > filament_permissions.id
Ref: filament_role_has_permissions.role_id > filament_roles.id
Ref: lead_leads.contact_preference_id > lead_contact_preferences.id
Ref: lead_leads.client_id > lead_clients.id
Ref: auth_client_user.client_id > lead_clients.id
Ref: auth_client_user.role_id > auth_roles.id
Ref: lead_properties.client_id > lead_clients.id
Ref: lead_properties.property_type_id > lead_property_types.id
Ref: lead_properties.currency_id > lead_currencies.id
Ref: lead_clients.country_id > lead_countries.id
Ref: lead_client_channels.client_id > lead_clients.id
Ref: lead_leads.status_id > lead_statuses.id
Ref: lead_appointments.property_id > lead_properties.id
Ref: lead_integrations.client_id > lead_clients.id
Ref: lead_client_user.client_id > lead_clients.id
Ref: lead_client_user.user_id > lead_users.id
Ref: lead_contact_methods.channel_id > lead_communication_channels.id
Ref: lead_contact_methods.user_id > lead_users.id
Ref: lead_knowledge_documents.client_id > lead_clients.id
Ref: lead_conversations.lead_id > lead_leads.id

Table lead_contacts {
  id uuid [pk]
  client_id uuid
  first_name varchar
  last_name varchar
  position varchar
  avatar_url varchar
  created_at timestamp
  updated_at timestamp
  deleted_at timestamp
}

Table lead_contact_channels {
  id uuid [pk]
  contact_id uuid
  category_id integer
  value varchar
  label varchar
  is_primary boolean
  is_verified boolean
  created_at timestamp
  updated_at timestamp
}

Ref: lead_contacts.client_id > lead_clients.id
Ref: lead_contact_channels.contact_id > lead_contacts.id
Ref: auth_users.contact_id > lead_contacts.id
Ref: lead_contact_channels.category_id > lead_channel_categories.id